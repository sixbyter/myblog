"use strict";var Blog=React.createClass({displayName:"Blog",render:function(){var c,d,a=window.location.hash.substring(1).split("&"),b={};for(d in a)""!==a[d]&&(c=a[d].split("="),b[decodeURIComponent(c[0])]=decodeURIComponent(c[1]));return void 0===b.article?React.createElement(ArticleList,null):(console.log(b.article),React.createElement(Article,{name:b.article}))}}),ArticleList=React.createClass({displayName:"ArticleList",componentDidMount:function(){$.ajax({url:"/api/articles",dataType:"json",cache:!1,type:"GET",success:function(a){console.log(a),this.setState({data:a})}.bind(this),error:function(a,b,c){console.error(b,c.toString())}.bind(this)})},getInitialState:function(){return{data:[]}},render:function(){var a=this.state.data.map(function(a){return React.createElement(Title,{title:a.date+" "+a.title,filename:a.filename})});return React.createElement("div",null,a)}}),Title=React.createClass({displayName:"Title",handleClick:function(a){window.location.href=window.location.origin+"#article="+encodeURI(this.props.filename),window.React.render(React.createElement(Article,{name:this.props.filename}),document.getElementById("blog"))},render:function(){return React.createElement("div",null,React.createElement("a",{href:"javascript:;",onClick:this.handleClick},this.props.title))}}),Article=React.createClass({displayName:"Article",componentDidMount:function(){var a=this.props.name;$.ajax({url:"/api/article",dataType:"json",cache:!1,data:"name="+a,type:"GET",success:function(a){console.log(a),this.setState({data:a})}.bind(this),error:function(a,b,c){console.error(b,c.toString())}.bind(this)})},getInitialState:function(){return{data:{content:"..."}}},rawMarkup:function i(){var i=marked(this.state.data.content,{sanitize:!0});return{__html:i}},render:function(){return React.createElement("div",null,React.createElement(GoToList,null),React.createElement("span",{dangerouslySetInnerHTML:this.rawMarkup()}))}}),GoToList=React.createClass({displayName:"GoToList",handleClick:function(a){window.location.href=window.location.origin+"#",window.React.render(React.createElement(Blog,null),document.getElementById("blog"))},render:function(){return React.createElement("a",{href:"javascript:;",onClick:this.handleClick},"\u8fd4\u56de\u5217\u8868")}});React.render(React.createElement(Blog,null),document.getElementById("blog"));